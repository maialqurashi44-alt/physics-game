<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Physics Momentum Game</title>

<style>
    body {
        margin: 0;
        overflow: hidden;
        background: #0d1b2a;
        font-family: Arial, sans-serif;
    }

    canvas {
        background: transparent;
        display: block;
    }

    /* زر القائمة العامة */
    .menu-btn {
        position: absolute;
        right: 20px;
        padding: 12px 20px;
        background: #ffca28;
        border: none;
        border-radius: 12px;
        cursor: pointer;
        font-size: 18px;
        font-weight: bold;
    }

    /* القوائم المنسدلة */
    .dropdown {
        position: absolute;
        right: 20px;
        background: white;
        border-radius: 10px;
        padding: 10px;
        display: none;
        box-shadow: 0px 4px 12px rgba(0,0,0,0.2);
    }

    .dropdown button {
        display: block;
        width: 100%;
        margin: 6px 0;
        padding: 10px;
        background: #eeeeee;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        font-size: 16px;
    }

</style>
</head>
<body>

<canvas id="gameCanvas"></canvas>

<!-- زر الكتل -->
<button class="menu-btn" id="massButton" style="top: 60px;">Mass</button>
<div class="dropdown" id="massMenu" style="top: 110px;">
    <button data-mass="10">Small</button>
    <button data-mass="30">Medium</button>
    <button data-mass="60">Large</button>
</div>

<!-- زر السرعات -->
<button class="menu-btn" id="speedButton" style="top: 220px;">Speed</button>
<div class="dropdown" id="speedMenu" style="top: 270px;">
    <button data-speed="0.3">Very Slow</button>
    <button data-speed="1">Normal</button>
    <button data-speed="2">Fast</button>
</div>

<!-- زر الإيقاف -->
<button class="menu-btn" id="pauseButton" style="top: 380px;">Pause</button>

<script>
const canvas = document.getElementById("gameCanvas");
const ctx = canvas.getContext("2d");

function resizeCanvas() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
}
resizeCanvas();
window.addEventListener("resize", resizeCanvas);

let ball = {
    x: canvas.width / 2,
    y: 100,
    radius: 30,
    vy: 0,
    mass: 30,
    color: "yellow"
};

const gravity = 0.4;
let timeScale = 1;
let paused = false;

/* تغيير لون الكرة حسب الكتلة */
function updateBallColor() {
    if (ball.mass <= 15) ball.color = "#4FC3F7";
    else if (ball.mass <= 40) ball.color = "#81C784";
    else ball.color = "#E57373";
}

/* تحديث الحركة */
function update() {
    if (paused) return;

    ball.vy += gravity * timeScale;
    ball.y += ball.vy * timeScale;

    if (ball.y + ball.radius > canvas.height) {
        ball.y = canvas.height - ball.radius;
        ball.vy *= -0.7;
    }
}

/* رسم اللعبة */
function draw() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    ctx.beginPath();
    ctx.arc(ball.x, ball.y, ball.radius, 0, Math.PI * 2);
    ctx.fillStyle = ball.color;
    ctx.fill();

    ctx.fillStyle = "white";
    ctx.font = "18px Arial";
    ctx.fillText(`Mass: ${ball.mass} kg`, ball.x - 40, ball.y - ball.radius - 35);
    ctx.fillText(`Speed: ${ball.vy.toFixed(1)} m/s`, ball.x - 40, ball.y - ball.radius - 15);
    ctx.fillText(`Momentum: ${(ball.mass * ball.vy).toFixed(1)} kg·m/s`, ball.x - 60, ball.y - ball.radius - 55);
}

/* حلقة اللعبة */
function loop() {
    update();
    draw();
    requestAnimationFrame(loop);
}
loop();

/* أزرار القوائم */
const massButton = document.getElementById("massButton");
const speedButton = document.getElementById("speedButton");
const pauseButton = document.getElementById("pauseButton");

const massMenu = document.getElementById("massMenu");
const speedMenu = document.getElementById("speedMenu");

/* فتح وإغلاق القوائم */
massButton.onclick = () => {
    massMenu.style.display = massMenu.style.display === "block" ? "none" : "block";
    speedMenu.style.display = "none";
};

speedButton.onclick = () => {
    speedMenu.style.display = speedMenu.style.display === "block" ? "none" : "block";
    massMenu.style.display = "none";
};

/* تغيير الكتلة */
massMenu.querySelectorAll("button").forEach(btn => {
    btn.onclick = () => {
        ball.mass = parseFloat(btn.dataset.mass);

        ball.radius = ball.mass / 2 + 10;
        updateBallColor();
        massMenu.style.display = "none";
    };
});

/* تغيير السرعة */
speedMenu.querySelectorAll("button").forEach(btn => {
    btn.onclick = () => {
        timeScale = parseFloat(btn.dataset.speed);
        speedMenu.style.display = "none";
    };
});

/* زر الإيقاف */
pauseButton.onclick = () => {
    paused = !paused;
    pauseButton.innerText = paused ? "Resume" : "Pause";
};

</script>
</body>
</html>






